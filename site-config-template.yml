# Sample TSBI Site Configuration
# This file will be automatically created by the GitHub Actions workflow
# Location: /data/ecosystem/sites/{site-id}.yml

id: myapp
domain: testing.tsbi.fun
environment: production
image: registry.tsbi.fun/testing:latest

# Container configuration
ports:
  - "80:5000"  # Map host port 80 to container port 5000

# Environment variables
environment_variables:
  - NODE_ENV=production
  - PORT=5000

# Health check configuration
health_check:
  path: /api/health
  interval: 30s
  timeout: 10s
  retries: 3

# Docker restart policy
restart_policy: unless-stopped

# Resource limits (optional)
resources:
  limits:
    memory: 512M
    cpus: '0.5'
  reservations:
    memory: 256M
    cpus: '0.25'

# Network configuration (optional)
networks:
  - tsbi-network

# Volume mounts (optional)
volumes:
  - /data/logs:/app/logs

# Logging configuration (optional)
logging:
  driver: json-file
  options:
    max-size: "10m"
    max-file: "3"